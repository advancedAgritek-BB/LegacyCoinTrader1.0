# Scans Page - Asset Scoring System

## Overview

The Scans page displays asset scores generated by the portfolio rotation system. These scores help identify which assets are performing well and which ones might need attention.

## How It Works

### Asset Scoring
- **Positive scores**: Indicate good performance (higher is better)
- **Negative scores**: Indicate poor performance
- **Score ranges**:
  - > 1.0: Excellent performance 🚀
  - 0.5 - 1.0: Good performance ⬆️
  - 0 - 0.5: Neutral performance ➖
  - < 0: Poor performance ⬇️

### Data Source
Asset scores are stored in `crypto_bot/logs/asset_scores.json` and are generated by:

1. **Automatic generation**: When the bot runs and portfolio rotation is enabled
2. **Manual generation**: Using the "Generate Scores" button on the Scans page
3. **Command line tool**: Using `tools/generate_asset_scores.py`

## Configuration

### Portfolio Rotation Settings
The asset scoring system is controlled by the `portfolio_rotation` section in `crypto_bot/config.yaml`:

```yaml
portfolio_rotation:
  enabled: true                    # Enable/disable portfolio rotation
  interval_days: 0.25             # How often to rebalance (6 hours)
  rebalance_threshold: 0.03       # Minimum improvement to trigger rebalancing
  scoring_method: momentum         # Scoring method: 'momentum' or 'sharpe'
  top_assets: 15                  # Number of top assets to hold
```

### Scoring Methods

#### Momentum Scoring
- Calculates price change over a lookback period
- Formula: `(current_price / initial_price) - 1`
- Good for trending markets

#### Sharpe Ratio Scoring
- Calculates risk-adjusted returns
- Formula: `mean_returns / standard_deviation`
- Good for stable, long-term strategies

## Manual Score Generation

### Via Web Interface
1. Navigate to the Scans page
2. Click the "Generate Scores" button
3. Wait for the process to complete
4. The page will refresh and display new scores

### Via Command Line
```bash
# Generate sample scores
python3 tools/generate_asset_scores.py

# This will:
# - Create 20 sample asset scores
# - Save them to asset_scores.json
# - Display top 10 scores in the terminal
```

## Troubleshooting

### No Scores Displayed
If the Scans page shows "No Asset Scores Available":

1. **Check if scores exist**:
   ```bash
   ls -la crypto_bot/logs/asset_scores.json
   ```

2. **Generate scores manually**:
   ```bash
   python3 tools/generate_asset_scores.py
   ```

3. **Check portfolio rotation config**:
   - Ensure `portfolio_rotation.enabled: true` in config.yaml
   - Verify the bot is running and actively trading

### Empty Scores File
If `asset_scores.json` exists but is empty (`{}`):

1. **Generate new scores** using the tool above
2. **Check bot logs** for portfolio rotation errors
3. **Verify exchange connectivity** if using real trading

## Integration with Trading Bot

The asset scores are used by:

- **Portfolio Rotator**: To rebalance holdings toward top performers
- **Strategy Router**: To allocate capital to best-performing strategies
- **Risk Manager**: To adjust position sizes based on asset quality
- **Performance Monitor**: To track strategy effectiveness

## File Locations

- **Asset scores**: `crypto_bot/logs/asset_scores.json`
- **Portfolio rotation logs**: `crypto_bot/logs/rotations.json`
- **Configuration**: `crypto_bot/config.yaml`
- **Score generator tool**: `tools/generate_asset_scores.py`

## Future Enhancements

- Real-time score updates via WebSocket
- Historical score tracking and charts
- Custom scoring algorithms
- Integration with external data sources
- Automated alerting for score changes
